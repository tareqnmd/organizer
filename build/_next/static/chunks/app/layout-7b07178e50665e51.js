(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9822:function(e,t,n){Promise.resolve().then(n.t.bind(n,915,23)),Promise.resolve().then(n.t.bind(n,9263,23)),Promise.resolve().then(n.bind(n,8506))},8506:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(9268),a=n(8947),s=n(6393);let i=(0,s.oM)({name:"theme",initialState:{loading:!0},reducers:{setThemeLoading:(e,t)=>{e.loading=t.payload}}}),{setThemeLoading:l}=i.actions,o=e=>e.theme;var u=n(4744),c=n(5160),d=n(2608),m=n(2462);let h=(0,d.UY)({[a.Z.reducerPath]:a.Z.reducer,[c.ZP.name]:c.ZP.reducer,[u.ZP.name]:u.ZP.reducer,[i.name]:i.reducer}),f=(0,s.xC)({reducer:h,devTools:!1,middleware:e=>e().concat(a.Z.middleware)});var v=n(2483);n(2870);var p=n(1033),x=()=>(0,r.jsx)("div",{className:"h-screen grid place-items-center",children:(0,r.jsx)(p.Z7b,{className:"animate-spin"})}),y=n(6008),g=n(6006),b=()=>{let e=(0,y.usePathname)(),t=(0,m.I0)(),[n,r]=(0,g.useState)(!1),a=(0,m.v9)(c.V_);return(0,g.useEffect)(()=>{r(!!(null==a?void 0:a.name)&&!!a.email);let e=setTimeout(()=>{t(l(!1))},1500);return()=>{clearTimeout(e)}},[a,t]),{authChecked:n,pathname:e}},j=()=>(0,r.jsxs)("footer",{className:"flex items-center justify-center p-3 border-t-2",children:["Developed by ",(0,r.jsx)("a",{className:"ml-1 text-blue-600",target:"_blank",href:"https://tareqnmd.com/",children:"Tareqnmd"})]}),_=n(6116),N=n(5846),T=n.n(N),P=n(6758),I=n(3302),S=n.n(I);let Z=(e,t)=>e===t;var k=()=>{let e=(0,y.usePathname)(),t=(0,y.useRouter)(),[n,{isSuccess:a}]=(0,_._y)();return(0,g.useEffect)(()=>{a&&t.push("/login")},[a,t]),(0,r.jsx)("nav",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:S()["nav-links"],children:[(0,r.jsx)(T(),{href:"/",children:"Hisab"}),(0,r.jsx)(T(),{className:Z(e,"/transactions")?S().active:"",href:"/transactions",children:"Transactions"}),(0,r.jsx)(T(),{className:Z(e,"/transactions/add")?S().active:"",href:"/transactions/add",children:"Add Transaction"}),(0,r.jsxs)("button",{onClick:()=>{n({})},className:S()["logout-btn"],children:[(0,r.jsx)(P.XqV,{}),"Logout"]})]})})},w=e=>{let{children:t}=e,n=(0,y.useRouter)(),{authChecked:a,pathname:s}=b(),{loading:i}=(0,m.v9)(o);return i||a||"/login"===s||n.push("/login"),!i&&a&&"/login"===s&&n.push("/"),(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(x,{}),!i&&a&&(0,r.jsxs)("div",{id:"mainRoot",children:[(0,r.jsx)(k,{}),(0,r.jsx)("main",{children:t}),(0,r.jsx)(j,{})]}),!i&&!a&&(0,r.jsx)("main",{children:t})]})},E=e=>{let{children:t}=e;return(0,r.jsxs)(m.zt,{store:f,children:[(0,r.jsx)(v.Ix,{}),(0,r.jsx)(w,{children:t})]})}},8947:function(e,t,n){"use strict";var r=n(9764),a=n(1452);let s=(0,r.LC)({reducerPath:"api",baseQuery:(0,a.ni)({baseUrl:"http://localhost:3201"}),tagTypes:[],endpoints:()=>({})});t.Z=s},4744:function(e,t,n){"use strict";n.d(t,{CF:function(){return o},Lf:function(){return s},hP:function(){return i},jx:function(){return l}});var r=n(6393);let a=(0,r.oM)({name:"transactions",initialState:{transactions:[],filterTime:"all",filterType:"all"},reducers:{setTransactions:(e,t)=>{e.transactions=t.payload},setFilterType:(e,t)=>{e.filterType=t.payload},setFilterTime:(e,t)=>{e.filterTime=t.payload}}}),{setTransactions:s,setFilterTime:i,setFilterType:l}=a.actions,o=e=>e.transactions;t.ZP=a},6116:function(e,t,n){"use strict";n.d(t,{YA:function(){return i},_y:function(){return l}});var r=n(8947),a=n(5160);let s=r.Z.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"user/login",method:"POST",body:e}),async onQueryStarted(e,t){let{queryFulfilled:n,dispatch:r}=t;try{let e=await n,t={name:e.data.name,email:e.data.email,userId:e.data._id};localStorage.setItem("user",JSON.stringify(t)),r((0,a.av)(t))}catch(e){}}}),logout:e.mutation({query:e=>({url:"user/logout",method:"POST",body:e}),async onQueryStarted(e,t){let{queryFulfilled:n,dispatch:r}=t;try{await n,localStorage.removeItem("user"),r((0,a.kX)())}catch(e){}}})})}),{useLoginMutation:i,useLogoutMutation:l}=s},5160:function(e,t,n){"use strict";n.d(t,{V_:function(){return u},av:function(){return l},kX:function(){return o}});var r=n(6746),a=n(6393);let s=(0,r.x)(),i=(0,a.oM)({name:"user",initialState:s,reducers:{setUser:(e,t)=>{e.name=t.payload.name,e.email=t.payload.email,e.userId=t.payload.userId},removeUser:e=>{e.name=null,e.email=null,e.userId=null}}}),{setUser:l,removeUser:o}=i.actions,u=e=>e.user;t.ZP=i},6746:function(e,t,n){"use strict";n.d(t,{b:function(){return a},x:function(){return r}});let r=()=>{let e=localStorage.getItem("user");if(!e)return{name:null,email:null,userId:null};{let t=JSON.parse(e);return{name:null==t?void 0:t.name,email:null==t?void 0:t.email,userId:null==t?void 0:t.userId}}},a=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error Found";return null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)&&void 0!==n?n:r}},9263:function(){},3302:function(e){e.exports={"nav-links":"Navbar_nav-links__4WlMD",active:"Navbar_active__upJyi","logout-btn":"Navbar_logout-btn__1xGjb"}}},function(e){e.O(0,[855,776,216,764,483,102,667,488,744],function(){return e(e.s=9822)}),_N_E=e.O()}]);