(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2121:function(e,t,n){Promise.resolve().then(n.t.bind(n,2027,23)),Promise.resolve().then(n.bind(n,7721))},7721:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(9268),a=n(571),u=n(9138),i=n(6116),l=n(6746);let o=[{name:"email",label:"Email",type:"email",required:!0},{name:"password",label:"Password",type:"password",required:!0}];var s=n(6006),c=n(2483),d=()=>{let[e,t]=(0,s.useState)({}),[n,{isSuccess:d,isError:m,error:p}]=(0,i.YA)(),f=(e,n)=>{t(t=>({...t,[e]:n}))};return(0,s.useEffect)(()=>{d&&c.Am.success("Successfully logged in",{position:"top-center",autoClose:1e3,hideProgressBar:!0}),m&&c.Am.error((0,l.b)(p),{position:"top-center"})},[d,m,p]),(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n(e)},children:[null==o?void 0:o.map(e=>(0,r.jsx)(u.Z,{getEvent:f,...e},e.name)),(0,r.jsx)("div",{className:"flex justify-end mt-6",children:(0,r.jsx)(a.Z,{type:"submit",name:"Login"})})]})}},571:function(e,t,n){"use strict";var r=n(9268),a=n(1490),u=n.n(a);t.Z=e=>{let{type:t="button",name:n}=e;return(0,r.jsx)("button",{type:t,className:u().button,children:n})}},9138:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9268),a=n(7457),u=n.n(a),i=n(8947);let l=i.Z.injectEndpoints({endpoints:e=>({getTypes:e.query({query:()=>({url:"/type"})})})}),{useGetTypesQuery:o}=l;var s=e=>{let{label:t,name:n,required:a,type:i="text",rows:l,placeholder:s,value:c,getEvent:d}=e,{data:m}=o({},{skip:"select"!==i}),p=e=>{let{name:t,value:n}=e.target;d(t,n)};return(0,r.jsxs)("div",{className:"".concat(u()["input-area"]," ").concat(["description","typeId"].includes(n)?"col-span-2":""),children:[(0,r.jsxs)("label",{htmlFor:n,children:[t,a&&"*"]}),(e=>{let t;switch(e){case"select":t=(0,r.jsxs)("select",{name:n,required:a,onChange:p,children:[(0,r.jsx)("option",{disabled:!0,selected:!0,value:"",children:"Select Type"}),null==m?void 0:m.map(e=>(0,r.jsx)("option",{value:e._id,children:e.name},e._id))]});break;case"textarea":t=(0,r.jsx)("textarea",{name:n,required:a,rows:l,onChange:p,placeholder:s});break;default:t=(0,r.jsx)("input",{name:n,type:e,required:a,onChange:p,placeholder:s})}return t})(i)]})}},8947:function(e,t,n){"use strict";var r=n(9764),a=n(1452);let u=(0,r.LC)({reducerPath:"api",baseQuery:(0,a.ni)({baseUrl:"https://hisab-api.tareqnmd.com"}),tagTypes:[],endpoints:()=>({})});t.Z=u},6116:function(e,t,n){"use strict";n.d(t,{YA:function(){return i},_y:function(){return l}});var r=n(8947),a=n(5160);let u=r.Z.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"user/login",method:"POST",body:e}),async onQueryStarted(e,t){let{queryFulfilled:n,dispatch:r}=t;try{let e=await n,t={name:e.data.name,email:e.data.email,userId:e.data._id};localStorage.setItem("user",JSON.stringify(t)),r((0,a.av)(t))}catch(e){}}}),logout:e.mutation({query:e=>({url:"user/logout",method:"POST",body:e}),async onQueryStarted(e,t){let{queryFulfilled:n,dispatch:r}=t;try{await n,localStorage.removeItem("user"),r((0,a.kX)())}catch(e){}}})})}),{useLoginMutation:i,useLogoutMutation:l}=u},5160:function(e,t,n){"use strict";n.d(t,{V_:function(){return s},av:function(){return l},kX:function(){return o}});var r=n(6746),a=n(6393);let u=(0,r.x)(),i=(0,a.oM)({name:"user",initialState:u,reducers:{setUser:(e,t)=>{e.name=t.payload.name,e.email=t.payload.email,e.userId=t.payload.userId},removeUser:e=>{e.name=null,e.email=null,e.userId=null}}}),{setUser:l,removeUser:o}=i.actions,s=e=>e.user;t.ZP=i},6746:function(e,t,n){"use strict";n.d(t,{b:function(){return a},x:function(){return r}});let r=()=>{let e=localStorage.getItem("user");if(!e)return{name:null,email:null,userId:null};{let t=JSON.parse(e);return{name:null==t?void 0:t.name,email:null==t?void 0:t.email,userId:null==t?void 0:t.userId}}},a=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error Found";return null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)&&void 0!==n?n:r}},2027:function(e){e.exports={"login-wrapper":"Login_login-wrapper__AqsSn","login-area":"Login_login-area__u6r5X"}},1490:function(e){e.exports={button:"Button_button__m7fjy"}},7457:function(e){e.exports={"input-area":"Input_input-area__ndogE"}}},function(e){e.O(0,[216,764,483,667,488,744],function(){return e(e.s=2121)}),_N_E=e.O()}]);